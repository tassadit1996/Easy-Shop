{"ast":null,"code":"import _classCallCheck from\"C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{Container,Row,Col,Card,Button,Modal}from'react-bootstrap';import AppURL from'../../api/AppURL';import axios from'axios';import{Redirect}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Notification=/*#__PURE__*/function(_Component){_inherits(Notification,_Component);var _super=_createSuper(Notification);function Notification(){var _this;_classCallCheck(this,Notification);_this=_super.call(this);_this.handleClose=function(){_this.setState({show:false});};_this.handleShow=function(event){_this.setState({show:true});var Nmsg=event.target.getAttribute(\"data-message\");var Ntitle=event.target.getAttribute(\"data-title\");var Ndate=event.target.getAttribute(\"data-date\");_this.setState({Notificationmsg:Nmsg,Notificationtitle:Ntitle,Notificationdate:Ndate});};_this.state={show:false,NotificationData:[],isLoading:\"\",mainDiv:\"d-none\",Notificationmsg:\"\",Notificationtitle:\"\",Notificationdate:\"\"};return _this;}_createClass(Notification,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(AppURL.NotificationHistory).then(function(response){_this2.setState({NotificationData:response.data,isLoading:\"d-none\",mainDiv:\" \"});}).catch(function(error){});}},{key:\"render\",value:function render(){var _this3=this;if(!localStorage.getItem('token')){return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}var NotificationList=this.state.NotificationData;var MyView=NotificationList.map(function(NotificationList,i){return/*#__PURE__*/_jsx(Col,{className:\" p-1 \",md:6,lg:6,sm:12,xs:12,children:/*#__PURE__*/_jsx(Card,{onClick:_this3.handleShow,className:\"notification-card\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h6\",{children:NotificationList.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"py-1  px-0 text-primary m-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa  fa-bell\"}),\"   Date: \",NotificationList.date,\" | Status: Unread\"]}),/*#__PURE__*/_jsx(Button,{\"data-title\":NotificationList.title,\"data-date\":NotificationList.date,\"data-message\":NotificationList.message,className:\"btn btn-danger\",children:\"Details \"})]})})});});return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Container,{className:\"TopSection\",children:/*#__PURE__*/_jsx(Row,{children:MyView})}),/*#__PURE__*/_jsxs(Modal,{show:this.state.show,onHide:this.handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(\"h6\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-bell\"}),\" Date: \",this.state.Notificationdate]})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(\"h6\",{children:[\" \",this.state.Notificationtitle]}),/*#__PURE__*/_jsx(\"p\",{children:this.state.Notificationmsg})]}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:this.handleClose,children:\"Close\"})})]})]});}}]);return Notification;}(Component);export default Notification;","map":{"version":3,"sources":["C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/src/components/Notification/Notification.jsx"],"names":["React","Component","Fragment","Container","Row","Col","Card","Button","Modal","AppURL","axios","Redirect","Notification","handleClose","setState","show","handleShow","event","Nmsg","target","getAttribute","Ntitle","Ndate","Notificationmsg","Notificationtitle","Notificationdate","state","NotificationData","isLoading","mainDiv","get","NotificationHistory","then","response","data","catch","error","localStorage","getItem","NotificationList","MyView","map","i","title","date","message"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\r\nimport { Container,Row,Col, Card,Button,Modal } from 'react-bootstrap'\r\nimport AppURL from '../../api/AppURL';\r\nimport axios from 'axios'\r\nimport { Redirect } from 'react-router';\r\n\r\nclass Notification extends Component {\r\n\r\n     constructor(){\r\n          super();\r\n          this.state={\r\n               show:false,\r\n               NotificationData:[],\r\n               isLoading:\"\",\r\n               mainDiv:\"d-none\",\r\n               Notificationmsg:\"\",\r\n               Notificationtitle:\"\",\r\n               Notificationdate:\"\"\r\n          }\r\n     }\r\n\r\n\r\n\r\n     componentDidMount(){\r\n        axios.get(AppURL.NotificationHistory).then(response =>{\r\n             \r\n             this.setState({NotificationData:response.data,isLoading:\"d-none\",\r\n             mainDiv:\" \"});         \r\n\r\n        }).catch(error=>{\r\n\r\n        });\r\n   } \r\n\r\n\r\n\r\n      handleClose = () =>{\r\n          this.setState({ show:false})\r\n      };  \r\n\r\n      handleShow = (event) => {\r\n           this.setState({ show:true });\r\n           let Nmsg = event.target.getAttribute(\"data-message\");\r\n           let Ntitle = event.target.getAttribute(\"data-title\");\r\n           let Ndate = event.target.getAttribute(\"data-date\");\r\n           this.setState({Notificationmsg:Nmsg,Notificationtitle:Ntitle,Notificationdate:Ndate})\r\n      }; \r\n\r\n     render() {\r\n\r\n          if(!localStorage.getItem('token')){\r\n               return <Redirect to=\"/login\" />\r\n          }\r\n\r\n          const NotificationList = this.state.NotificationData;\r\n          const MyView = NotificationList.map((NotificationList,i)=>{\r\n            return   <Col className=\" p-1 \" md={6} lg={6} sm={12} xs={12}>\r\n            <Card onClick={this.handleShow} className=\"notification-card\">\r\n                <Card.Body>\r\n                    <h6>{NotificationList.title}</h6>\r\n                    <p className=\"py-1  px-0 text-primary m-0\"><i className=\"fa  fa-bell\"></i>   Date: {NotificationList.date} | Status: Unread</p>\r\n\r\n   <Button data-title={NotificationList.title} data-date={NotificationList.date} data-message={NotificationList.message} className=\"btn btn-danger\">Details </Button>\r\n                </Card.Body>\r\n            </Card>\r\n        </Col>\r\n\r\n\r\n          })\r\n\r\n\r\n\r\n          return (\r\n               <Fragment>\r\n\r\n                    <Container className=\"TopSection\">\r\n\r\n    <Row>\r\n      \r\n            {MyView}\r\n\r\n    </Row>\r\n</Container>\r\n\r\n\r\n<Modal show={this.state.show} onHide={this.handleClose}>\r\n        <Modal.Header closeButton>\r\n           <h6><i className=\"fa fa-bell\"></i> Date: {this.state.Notificationdate}</h6>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n             <h6> {this.state.Notificationtitle}</h6>\r\n             <p>\r\n             {this.state.Notificationmsg}\r\n             </p>\r\n             \r\n\r\n\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={this.handleClose}>\r\n            Close\r\n          </Button>\r\n          \r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n\r\n\r\n               </Fragment>\r\n          )\r\n     }\r\n}\r\n\r\nexport default Notification\r\n"]},"metadata":{},"sourceType":"module"}