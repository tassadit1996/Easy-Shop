{"ast":null,"code":"import _classCallCheck from\"C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{Navbar,Container,Row,Col,Button,Card}from'react-bootstrap';import AppURL from'../../api/AppURL';import Product1 from'../../assets/images/product/product1.png';import axios from'axios';import cogoToast from'cogo-toast';import{Redirect}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=/*#__PURE__*/function(_Component){_inherits(Cart,_Component);var _super=_createSuper(Cart);function Cart(){var _this;_classCallCheck(this,Cart);_this=_super.call(this);_this.removeItem=function(id){axios.get(AppURL.RemoveCartList(id)).then(function(response){if(response.data===1){cogoToast.success(\"Cart Item Remove\",{position:'top-right'});_this.setState({PageRefreshStatus:true});}else{cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});}}).catch(function(error){cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});});};_this.PageRefresh=function(){if(_this.state.PageRefreshStatus===true){var URL=window.location;return/*#__PURE__*/_jsx(Redirect,{to:URL});}};_this.ItemPlus=function(id,quantity,price){axios.get(AppURL.CartItemPlus(id,quantity,price)).then(function(response){if(response.data===1){cogoToast.success(\"Item Quantity Increased\",{position:'top-right'});_this.setState({PageRefreshStatus:true});}else{cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});}}).catch(function(error){cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});});};_this.ItemMinus=function(id,quantity,price){axios.get(AppURL.CartItemMinus(id,quantity,price)).then(function(response){if(response.data===1){cogoToast.success(\"Item Quantity Decreased\",{position:'top-right'});_this.setState({PageRefreshStatus:true});}else{cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});}}).catch(function(error){cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});});};_this.cityOnChange=function(event){var city=event.target.value;_this.setState({city:city});};_this.paymentMethodOnChange=function(event){var payment=event.target.value;_this.setState({payment:payment});};_this.nameOnChange=function(event){var name=event.target.value;_this.setState({name:name});};_this.addressOnChange=function(event){var address=event.target.value;_this.setState({address:address});};_this.confirmOnClick=function(){var city=_this.state.city;var payment=_this.state.payment;var name=_this.state.name;var address=_this.state.address;var email=_this.props.user.email;if(city.length===0){cogoToast.error(\"Please Select City\",{position:'top-right'});}else if(payment.length===0){cogoToast.error(\"Please Select Payment\",{position:'top-right'});}else if(name.length===0){cogoToast.error(\"Please Select Your Name\",{position:'top-right'});}else if(address.length===0){cogoToast.error(\"Please Select Your Address\",{position:'top-right'});}else{var invoice=new Date().getTime();var MyFromData=new FormData();MyFromData.append('city',city);MyFromData.append('payment_method',payment);MyFromData.append('name',name);MyFromData.append('delivery_address',address);MyFromData.append('email',email);MyFromData.append('invoice_no',invoice);MyFromData.append('delivery_charge',\"00\");axios.post(AppURL.CartOrder,MyFromData).then(function(response){if(response.data===1){cogoToast.success(\"Order Request Received\",{position:'top-right'});_this.setState({PageRedirectStaus:true});}else{cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});}}).catch(function(error){cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});});}};_this.PageRedirect=function(){if(_this.state.PageRedirectStaus===true){return/*#__PURE__*/_jsx(Redirect,{to:\"/orderlist\"});}};_this.state={ProductData:[],isLoading:\"\",mainDiv:\"d-none\",PageRefreshStatus:false,PageRedirectStaus:false,confirmBtn:\"Confirm Order\",city:\"\",payment:\"\",name:\"\",address:\"\"};return _this;}_createClass(Cart,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(AppURL.CartList(this.props.user.email)).then(function(response){_this2.setState({ProductData:response.data,isLoading:\"d-none\",mainDiv:\" \"});}).catch(function(error){});}},{key:\"render\",value:function render(){var _this3=this;if(!localStorage.getItem('token')){return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}var MyList=this.state.ProductData;var totalPriceSum=0;var MyView=MyList.map(function(ProductList,i){totalPriceSum=totalPriceSum+parseInt(ProductList.total_price);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:3,lg:3,sm:6,xs:6,children:/*#__PURE__*/_jsx(\"img\",{className:\"cart-product-img\",src:ProductList.image})}),/*#__PURE__*/_jsxs(Col,{md:6,lg:6,sm:6,xs:6,children:[/*#__PURE__*/_jsx(\"h5\",{className:\"product-name\",children:ProductList.product_name}),/*#__PURE__*/_jsxs(\"h6\",{children:[\" Quantity = \",ProductList.quantity,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[ProductList.size,\" | \",ProductList.color]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Price = \",ProductList.unit_price,\" x \",ProductList.quantity,\" = \",ProductList.total_price,\"$\"]})]}),/*#__PURE__*/_jsxs(Col,{md:3,lg:3,sm:12,xs:12,children:[/*#__PURE__*/_jsxs(Button,{onClick:function onClick(){return _this3.removeItem(ProductList.id);},className:\"btn mt-2 mx-1 btn-lg site-btn\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash-alt\"}),\" \"]}),/*#__PURE__*/_jsxs(Button,{onClick:function onClick(){return _this3.ItemPlus(ProductList.id,ProductList.quantity,ProductList.unit_price);},className:\"btn mt-2 mx-1 btn-lg site-btn\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus\"}),\" \"]}),/*#__PURE__*/_jsxs(Button,{onClick:function onClick(){return _this3.ItemMinus(ProductList.id,ProductList.quantity,ProductList.unit_price);},className:\"btn mt-2 mx-1 btn-lg site-btn\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-minus\"}),\" \"]})]})]})})})});});return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-title text-center mb-55\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Product Cart List\"})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{className:\"p-1\",lg:7,md:7,sm:12,xs:12,children:MyView}),/*#__PURE__*/_jsx(Col,{className:\"p-1\",lg:5,md:5,sm:12,xs:12,children:/*#__PURE__*/_jsx(\"div\",{className:\"card p-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 p-1  col-lg-12 col-sm-12 col-12\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"Product-Name text-danger\",children:[\"Total Due: \",totalPriceSum,\"  $\"]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 p-1 col-lg-12 col-sm-12 col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Choose City\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:this.cityOnChange,className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Dhaka\",children:\"Assam\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Dhaka\",children:\"Bihar \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Dhaka\",children:\"Goa \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Dhaka\",children:\"Gujarat \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Dhaka\",children:\"Himachal Pradesh \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Dhaka\",children:\"Punjab  \"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 p-1 col-lg-12 col-sm-12 col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Choose Payment Method\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:this.paymentMethodOnChange,className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cash On Delivery\",children:\"Cash On Delivery\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cash On Delivery\",children:\"Stripe\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 p-1 col-lg-12 col-sm-12 col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Your Name\"}),/*#__PURE__*/_jsx(\"input\",{onChange:this.nameOnChange,className:\"form-control\",type:\"text\",placeholder:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 p-1 col-lg-12 col-sm-12 col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Delivery Address\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:this.addressOnChange,rows:2,className:\"form-control\",type:\"text\",placeholder:\"\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 p-1 col-lg-12 col-sm-12 col-12\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:this.confirmOnClick,className:\"btn  site-btn\",children:[\" \",this.state.confirmBtn,\" \"]})})]})]})})})})]})]}),this.PageRefresh(),this.PageRedirect()]});}}]);return Cart;}(Component);export default Cart;","map":{"version":3,"sources":["C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/src/components/Cart/Cart.jsx"],"names":["React","Component","Fragment","Navbar","Container","Row","Col","Button","Card","AppURL","Product1","axios","cogoToast","Redirect","Cart","removeItem","id","get","RemoveCartList","then","response","data","success","position","setState","PageRefreshStatus","error","catch","PageRefresh","state","URL","window","location","ItemPlus","quantity","price","CartItemPlus","ItemMinus","CartItemMinus","cityOnChange","event","city","target","value","paymentMethodOnChange","payment","nameOnChange","name","addressOnChange","address","confirmOnClick","email","props","user","length","invoice","Date","getTime","MyFromData","FormData","append","post","CartOrder","PageRedirectStaus","PageRedirect","ProductData","isLoading","mainDiv","confirmBtn","CartList","localStorage","getItem","MyList","totalPriceSum","MyView","map","ProductList","i","parseInt","total_price","image","product_name","size","color","unit_price"],"mappings":"4sBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAAQC,MAAR,CAAeC,SAAf,CAA0BC,GAA1B,CAA+BC,GAA/B,CAAmCC,MAAnC,CAA0CC,IAA1C,KAAqD,iBAArD,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,0CAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,2FAEMC,CAAAA,I,4FAED,eAAa,sCACR,wBADQ,MA+BbC,UA/Ba,CA+BA,SAACC,EAAD,CAAQ,CAEpBL,KAAK,CAACM,GAAN,CAAUR,MAAM,CAACS,cAAP,CAAsBF,EAAtB,CAAV,EAAqCG,IAArC,CAA0C,SAAAC,QAAQ,CAAG,CAEtD,GAAGA,QAAQ,CAACC,IAAT,GAAgB,CAAnB,CAAqB,CAChBT,SAAS,CAACU,OAAV,CAAkB,kBAAlB,CAAqC,CAACC,QAAQ,CAAC,WAAV,CAArC,EACA,MAAKC,QAAL,CAAc,CAACC,iBAAiB,CAAC,IAAnB,CAAd,EACJ,CAHD,IAGK,CACAb,SAAS,CAACc,KAAV,CAAgB,uCAAhB,CAAwD,CAACH,QAAQ,CAAC,WAAV,CAAxD,EACJ,CACK,CARL,EAQOI,KARP,CAQa,SAAAD,KAAK,CAAE,CACXd,SAAS,CAACc,KAAV,CAAgB,uCAAhB,CAAwD,CAACH,QAAQ,CAAC,WAAV,CAAxD,EAEJ,CAXL,EAaA,CA9CY,OAgDbK,WAhDa,CAgDA,UAAM,CACd,GAAG,MAAKC,KAAL,CAAWJ,iBAAX,GAA+B,IAAlC,CAAuC,CAClC,GAAIK,CAAAA,GAAG,CAAGC,MAAM,CAACC,QAAjB,CACA,mBAEK,KAAC,QAAD,EAAU,EAAE,CAAEF,GAAd,EAFL,CAIJ,CACL,CAxDY,OA4DbG,QA5Da,CA4DF,SAACjB,EAAD,CAAIkB,QAAJ,CAAaC,KAAb,CAAuB,CAE7BxB,KAAK,CAACM,GAAN,CAAUR,MAAM,CAAC2B,YAAP,CAAoBpB,EAApB,CAAuBkB,QAAvB,CAAgCC,KAAhC,CAAV,EAAkDhB,IAAlD,CAAuD,SAAAC,QAAQ,CAAG,CAEnE,GAAGA,QAAQ,CAACC,IAAT,GAAgB,CAAnB,CAAqB,CAChBT,SAAS,CAACU,OAAV,CAAkB,yBAAlB,CAA4C,CAACC,QAAQ,CAAC,WAAV,CAA5C,EACA,MAAKC,QAAL,CAAc,CAACC,iBAAiB,CAAC,IAAnB,CAAd,EACJ,CAHD,IAGK,CACAb,SAAS,CAACc,KAAV,CAAgB,uCAAhB,CAAwD,CAACH,QAAQ,CAAC,WAAV,CAAxD,EACJ,CACK,CARL,EAQOI,KARP,CAQa,SAAAD,KAAK,CAAE,CACXd,SAAS,CAACc,KAAV,CAAgB,uCAAhB,CAAwD,CAACH,QAAQ,CAAC,WAAV,CAAxD,EAEJ,CAXL,EAaA,CA3EQ,OA8ETc,SA9ES,CA8EG,SAACrB,EAAD,CAAIkB,QAAJ,CAAaC,KAAb,CAAuB,CAElCxB,KAAK,CAACM,GAAN,CAAUR,MAAM,CAAC6B,aAAP,CAAqBtB,EAArB,CAAwBkB,QAAxB,CAAiCC,KAAjC,CAAV,EAAmDhB,IAAnD,CAAwD,SAAAC,QAAQ,CAAG,CAEpE,GAAGA,QAAQ,CAACC,IAAT,GAAgB,CAAnB,CAAqB,CAChBT,SAAS,CAACU,OAAV,CAAkB,yBAAlB,CAA4C,CAACC,QAAQ,CAAC,WAAV,CAA5C,EACA,MAAKC,QAAL,CAAc,CAACC,iBAAiB,CAAC,IAAnB,CAAd,EACJ,CAHD,IAGK,CACAb,SAAS,CAACc,KAAV,CAAgB,uCAAhB,CAAwD,CAACH,QAAQ,CAAC,WAAV,CAAxD,EACJ,CACK,CARL,EAQOI,KARP,CAQa,SAAAD,KAAK,CAAE,CACXd,SAAS,CAACc,KAAV,CAAgB,uCAAhB,CAAwD,CAACH,QAAQ,CAAC,WAAV,CAAxD,EAEJ,CAXL,EAaA,CA7FQ,OAgGTgB,YAhGS,CAgGM,SAACC,KAAD,CAAW,CACrB,GAAIC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaC,KAAxB,CACA,MAAKnB,QAAL,CAAc,CAACiB,IAAI,CAACA,IAAN,CAAd,EACJ,CAnGQ,OAqGTG,qBArGS,CAqGe,SAACJ,KAAD,CAAW,CAClC,GAAIK,CAAAA,OAAO,CAAGL,KAAK,CAACE,MAAN,CAAaC,KAA3B,CACA,MAAKnB,QAAL,CAAc,CAACqB,OAAO,CAACA,OAAT,CAAd,EACJ,CAxGY,OA0GbC,YA1Ga,CA0GE,SAACN,KAAD,CAAW,CACrB,GAAIO,CAAAA,IAAI,CAAGP,KAAK,CAACE,MAAN,CAAaC,KAAxB,CACA,MAAKnB,QAAL,CAAc,CAACuB,IAAI,CAACA,IAAN,CAAd,EACJ,CA7GY,OA+GbC,eA/Ga,CA+GK,SAACR,KAAD,CAAW,CACxB,GAAIS,CAAAA,OAAO,CAAGT,KAAK,CAACE,MAAN,CAAaC,KAA3B,CACA,MAAKnB,QAAL,CAAc,CAACyB,OAAO,CAACA,OAAT,CAAd,EACJ,CAlHY,OAoHbC,cApHa,CAoHI,UAAM,CAClB,GAAIT,CAAAA,IAAI,CAAG,MAAKZ,KAAL,CAAWY,IAAtB,CACA,GAAII,CAAAA,OAAO,CAAG,MAAKhB,KAAL,CAAWgB,OAAzB,CACA,GAAIE,CAAAA,IAAI,CAAG,MAAKlB,KAAL,CAAWkB,IAAtB,CACA,GAAIE,CAAAA,OAAO,CAAG,MAAKpB,KAAL,CAAWoB,OAAzB,CACA,GAAIE,CAAAA,KAAK,CAAG,MAAKC,KAAL,CAAWC,IAAX,CAAgBF,KAA5B,CAEA,GAAGV,IAAI,CAACa,MAAL,GAAc,CAAjB,CAAmB,CACd1C,SAAS,CAACc,KAAV,CAAgB,oBAAhB,CAAqC,CAACH,QAAQ,CAAC,WAAV,CAArC,EACJ,CAFD,IAGK,IAAGsB,OAAO,CAACS,MAAR,GAAiB,CAApB,CAAsB,CACtB1C,SAAS,CAACc,KAAV,CAAgB,uBAAhB,CAAwC,CAACH,QAAQ,CAAC,WAAV,CAAxC,EACJ,CAFI,IAGA,IAAGwB,IAAI,CAACO,MAAL,GAAc,CAAjB,CAAmB,CACnB1C,SAAS,CAACc,KAAV,CAAgB,yBAAhB,CAA0C,CAACH,QAAQ,CAAC,WAAV,CAA1C,EACJ,CAFI,IAGA,IAAG0B,OAAO,CAACK,MAAR,GAAiB,CAApB,CAAsB,CACtB1C,SAAS,CAACc,KAAV,CAAgB,4BAAhB,CAA6C,CAACH,QAAQ,CAAC,WAAV,CAA7C,EACJ,CAFI,IAGD,CAEC,GAAIgC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,IAAJ,GAAWC,OAAX,EAAd,CACA,GAAIC,CAAAA,UAAU,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,UAAU,CAACE,MAAX,CAAkB,MAAlB,CAAyBnB,IAAzB,EACAiB,UAAU,CAACE,MAAX,CAAkB,gBAAlB,CAAmCf,OAAnC,EACAa,UAAU,CAACE,MAAX,CAAkB,MAAlB,CAAyBb,IAAzB,EACAW,UAAU,CAACE,MAAX,CAAkB,kBAAlB,CAAqCX,OAArC,EACAS,UAAU,CAACE,MAAX,CAAkB,OAAlB,CAA0BT,KAA1B,EACAO,UAAU,CAACE,MAAX,CAAkB,YAAlB,CAA+BL,OAA/B,EACAG,UAAU,CAACE,MAAX,CAAkB,iBAAlB,CAAoC,IAApC,EAEVjD,KAAK,CAACkD,IAAN,CAAWpD,MAAM,CAACqD,SAAlB,CAA4BJ,UAA5B,EAAwCvC,IAAxC,CAA6C,SAAAC,QAAQ,CAAG,CAEnD,GAAGA,QAAQ,CAACC,IAAT,GAAgB,CAAnB,CAAqB,CAChBT,SAAS,CAACU,OAAV,CAAkB,wBAAlB,CAA2C,CAACC,QAAQ,CAAC,WAAV,CAA3C,EACA,MAAKC,QAAL,CAAc,CAACuC,iBAAiB,CAAC,IAAnB,CAAd,EACJ,CAHD,IAGK,CACAnD,SAAS,CAACc,KAAV,CAAgB,uCAAhB,CAAwD,CAACH,QAAQ,CAAC,WAAV,CAAxD,EACJ,CACK,CARX,EAQaI,KARb,CAQmB,SAAAD,KAAK,CAAE,CACXd,SAAS,CAACc,KAAV,CAAgB,uCAAhB,CAAwD,CAACH,QAAQ,CAAC,WAAV,CAAxD,EAEJ,CAXX,EAYM,CAEL,CAjKY,OAoKbyC,YApKa,CAoKE,UAAM,CAChB,GAAG,MAAKnC,KAAL,CAAWkC,iBAAX,GAA+B,IAAlC,CAAuC,CAClC,mBACK,KAAC,QAAD,EAAU,EAAE,CAAC,YAAb,EADL,CAIJ,CACL,CA3KY,CAER,MAAKlC,KAAL,CAAW,CACNoC,WAAW,CAAC,EADN,CAENC,SAAS,CAAC,EAFJ,CAGNC,OAAO,CAAC,QAHF,CAIN1C,iBAAiB,CAAC,KAJZ,CAKNsC,iBAAiB,CAAC,KALZ,CAONK,UAAU,CAAC,eAPL,CAQN3B,IAAI,CAAC,EARC,CASNI,OAAO,CAAC,EATF,CAUNE,IAAI,CAAC,EAVC,CAWNE,OAAO,CAAC,EAXF,CAAX,CAFQ,aAgBZ,C,kDAGD,4BAAmB,iBACdtC,KAAK,CAACM,GAAN,CAAUR,MAAM,CAAC4D,QAAP,CAAgB,KAAKjB,KAAL,CAAWC,IAAX,CAAgBF,KAAhC,CAAV,EAAkDhC,IAAlD,CAAuD,SAAAC,QAAQ,CAAG,CAE7D,MAAI,CAACI,QAAL,CAAc,CAACyC,WAAW,CAAC7C,QAAQ,CAACC,IAAtB,CAA2B6C,SAAS,CAAC,QAArC,CACdC,OAAO,CAAC,GADM,CAAd,EAGJ,CALD,EAKGxC,KALH,CAKS,SAAAD,KAAK,CAAE,CAEf,CAPD,EAQJ,C,sBAkJD,iBAAS,iBAGJ,GAAG,CAAC4C,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,CAAkC,CAC7B,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAP,CACJ,CAED,GAAMC,CAAAA,MAAM,CAAG,KAAK3C,KAAL,CAAWoC,WAA1B,CACA,GAAIQ,CAAAA,aAAa,CAAC,CAAlB,CACA,GAAMC,CAAAA,MAAM,CAAGF,MAAM,CAACG,GAAP,CAAW,SAACC,WAAD,CAAaC,CAAb,CAAiB,CAC1CJ,aAAa,CAAGA,aAAa,CAACK,QAAQ,CAACF,WAAW,CAACG,WAAb,CAAtC,CACI,mBAAO,kCACP,KAAC,IAAD,wBACV,KAAC,IAAD,CAAM,IAAN,wBACA,MAAC,GAAD,yBACK,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,CAAmB,EAAE,CAAE,CAAvB,CAA0B,EAAE,CAAE,CAA9B,uBACK,YAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAEH,WAAW,CAACI,KAAnD,EADL,EADL,cAKK,MAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,CAAmB,EAAE,CAAE,CAAvB,CAA0B,EAAE,CAAE,CAA9B,wBACA,WAAI,SAAS,CAAC,cAAd,UAA8BJ,WAAW,CAACK,YAA1C,EADA,cAEA,qCAAiBL,WAAW,CAAC1C,QAA7B,OAFA,cAGA,qBAAI0C,WAAW,CAACM,IAAhB,OAAyBN,WAAW,CAACO,KAArC,GAHA,cAIA,iCAAaP,WAAW,CAACQ,UAAzB,OAAwCR,WAAW,CAAC1C,QAApD,OAAiE0C,WAAW,CAACG,WAA7E,OAJA,GALL,cAYK,MAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,CAAmB,EAAE,CAAE,EAAvB,CAA2B,EAAE,CAAE,EAA/B,wBAEA,MAAC,MAAD,EAAQ,OAAO,CAAE,yBAAI,CAAA,MAAI,CAAChE,UAAL,CAAgB6D,WAAW,CAAC5D,EAA5B,CAAJ,EAAjB,CAAsD,SAAS,CAAC,+BAAhE,wBAAgG,UAAG,SAAS,CAAC,iBAAb,EAAhG,OAFA,cAIA,MAAC,MAAD,EAAQ,OAAO,CAAE,yBAAI,CAAA,MAAI,CAACiB,QAAL,CAAc2C,WAAW,CAAC5D,EAA1B,CAA6B4D,WAAW,CAAC1C,QAAzC,CAAkD0C,WAAW,CAACQ,UAA9D,CAAJ,EAAjB,CAAgG,SAAS,CAAC,+BAA1G,wBAA0I,UAAG,SAAS,CAAC,YAAb,EAA1I,OAJA,cAMA,MAAC,MAAD,EAAQ,OAAO,CAAE,yBAAI,CAAA,MAAI,CAAC/C,SAAL,CAAeuC,WAAW,CAAC5D,EAA3B,CAA8B4D,WAAW,CAAC1C,QAA1C,CAAmD0C,WAAW,CAACQ,UAA/D,CAAJ,EAAjB,CAAiG,SAAS,CAAC,+BAA3G,wBAA2I,UAAG,SAAS,CAAC,aAAb,EAA3I,OANA,GAZL,GADA,EADU,EADO,EAAP,CA8BJ,CAhCc,CAAf,CAoCA,mBACI,MAAC,QAAD,yBAEK,MAAC,SAAD,EAAW,KAAK,CAAE,IAAlB,wBAEf,YAAK,SAAS,CAAC,iCAAf,uBAAiD,yCAAjD,EAFe,cAOA,MAAC,GAAD,yBACd,KAAC,GAAD,EAAK,SAAS,CAAC,KAAf,CAAqB,EAAE,CAAE,CAAzB,CAA4B,EAAE,CAAE,CAAhC,CAAmC,EAAE,CAAE,EAAvC,CAA2C,EAAE,CAAE,EAA/C,UACKV,MADL,EADc,cAMd,KAAC,GAAD,EAAK,SAAS,CAAC,KAAf,CAAqB,EAAE,CAAE,CAAzB,CAA4B,EAAE,CAAE,CAAhC,CAAmC,EAAE,CAAE,EAAvC,CAA2C,EAAE,CAAE,EAA/C,uBACA,YAAK,SAAS,CAAC,UAAf,uBACU,YAAK,SAAS,CAAC,WAAf,uBACK,aAAK,SAAS,CAAC,kBAAf,wBACK,YAAK,SAAS,CAAC,KAAf,uBACzB,YAAK,SAAS,CAAC,2CAAf,uBACK,YAAI,SAAS,CAAC,0BAAd,yBAAqDD,aAArD,SADL,EADyB,EADL,cAMpB,aAAK,SAAS,CAAC,KAAf,wBACA,aAAK,SAAS,CAAC,0CAAf,wBACK,cAAO,SAAS,CAAC,YAAjB,yBADL,cAEK,gBAAQ,QAAQ,CAAE,KAAKlC,YAAvB,CAAqC,SAAS,CAAC,cAA/C,wBACA,eAAQ,KAAK,CAAC,EAAd,oBADA,cAEA,eAAQ,KAAK,CAAC,OAAd,mBAFA,cAGA,eAAQ,KAAK,CAAC,OAAd,oBAHA,cAIA,eAAQ,KAAK,CAAC,OAAd,kBAJA,cAKA,eAAQ,KAAK,CAAC,OAAd,sBALA,cAMA,eAAQ,KAAK,CAAC,OAAd,+BANA,cAOA,eAAQ,KAAK,CAAC,OAAd,sBAPA,GAFL,GADA,cAaA,aAAK,SAAS,CAAC,0CAAf,wBACK,cAAO,SAAS,CAAC,YAAjB,mCADL,cAEK,gBAAQ,QAAQ,CAAE,KAAKK,qBAAvB,CAA+C,SAAS,CAAC,cAAzD,wBACA,eAAQ,KAAK,CAAC,EAAd,oBADA,cAEA,eAAQ,KAAK,CAAC,kBAAd,8BAFA,cAGA,eAAQ,KAAK,CAAC,kBAAd,oBAHA,GAFL,GAbA,cAqBA,aAAK,SAAS,CAAC,0CAAf,wBACK,cAAO,SAAS,CAAC,YAAjB,uBADL,cAEK,cAAO,QAAQ,CAAE,KAAKE,YAAtB,CAAqC,SAAS,CAAC,cAA/C,CAA8D,IAAI,CAAC,MAAnE,CAA0E,WAAW,CAAC,EAAtF,EAFL,GArBA,cA0BA,aAAK,SAAS,CAAC,0CAAf,wBACK,cAAO,SAAS,CAAC,YAAjB,8BADL,cAEK,iBAAU,QAAQ,CAAE,KAAKE,eAAzB,CAA4C,IAAI,CAAE,CAAlD,CAAsD,SAAS,CAAC,cAAhE,CAA+E,IAAI,CAAC,MAApF,CAA2F,WAAW,CAAC,EAAvG,EAFL,GA1BA,cA8BA,YAAK,SAAS,CAAC,0CAAf,uBACK,gBAAQ,OAAO,CAAE,KAAKE,cAAtB,CAAuC,SAAS,CAAC,eAAjD,eAAmE,KAAKrB,KAAL,CAAWuC,UAA9E,OADL,EA9BA,GANoB,GADL,EADV,EADA,EANc,GAPA,GAFL,CAwED,KAAKxC,WAAL,EAxEC,CA0ED,KAAKoC,YAAL,EA1EC,GADJ,CA+EJ,C,kBA5Sa/D,S,EA+SnB,cAAea,CAAAA,IAAf","sourcesContent":["import React, { Component, Fragment } from 'react'\r\nimport {Navbar,Container, Row, Col,Button,Card} from 'react-bootstrap';\r\nimport AppURL from '../../api/AppURL';\r\nimport Product1 from '../../assets/images/product/product1.png'\r\nimport axios from 'axios'\r\nimport cogoToast from 'cogo-toast';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass Cart extends Component {\r\n\r\n     constructor(){\r\n          super();\r\n          this.state={\r\n               ProductData:[],\r\n               isLoading:\"\",\r\n               mainDiv:\"d-none\",\r\n               PageRefreshStatus:false,\r\n               PageRedirectStaus:false,\r\n\r\n               confirmBtn:\"Confirm Order\",\r\n               city:\"\",\r\n               payment:\"\",\r\n               name:\"\",\r\n               address:\"\"\r\n                              \r\n          }\r\n     }\r\n\r\n\r\n     componentDidMount(){\r\n          axios.get(AppURL.CartList(this.props.user.email)).then(response =>{\r\n               \r\n               this.setState({ProductData:response.data,isLoading:\"d-none\",\r\n               mainDiv:\" \"});         \r\n\r\n          }).catch(error=>{\r\n\r\n          });\r\n     } \r\n\r\n\r\n     removeItem = (id) => {\r\n\r\n      axios.get(AppURL.RemoveCartList(id)).then(response =>{ \r\n\r\n     if(response.data===1){\r\n          cogoToast.success(\"Cart Item Remove\",{position:'top-right'}); \r\n          this.setState({PageRefreshStatus:true})   \r\n     }else{\r\n          cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});\r\n     }\r\n          }).catch(error=>{\r\n               cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});\r\n\r\n          });\r\n\r\n     } // End Remove Item Mehtod \r\n\r\n     PageRefresh =() => {\r\n          if(this.state.PageRefreshStatus===true){\r\n               let URL = window.location;\r\n               return (\r\n                    \r\n                    <Redirect to={URL} />\r\n               )\r\n          }\r\n     }\r\n\r\n      \r\n\r\n     ItemPlus = (id,quantity,price) => {\r\n\r\n          axios.get(AppURL.CartItemPlus(id,quantity,price)).then(response =>{ \r\n    \r\n         if(response.data===1){\r\n              cogoToast.success(\"Item Quantity Increased\",{position:'top-right'}); \r\n              this.setState({PageRefreshStatus:true})   \r\n         }else{\r\n              cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});\r\n         }\r\n              }).catch(error=>{\r\n                   cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});\r\n    \r\n              });\r\n    \r\n         } // End ItemPlus Mehtod \r\n\r\n\r\n         ItemMinus = (id,quantity,price) => {\r\n\r\n          axios.get(AppURL.CartItemMinus(id,quantity,price)).then(response =>{ \r\n    \r\n         if(response.data===1){\r\n              cogoToast.success(\"Item Quantity Decreased\",{position:'top-right'}); \r\n              this.setState({PageRefreshStatus:true})   \r\n         }else{\r\n              cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});\r\n         }\r\n              }).catch(error=>{\r\n                   cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});\r\n    \r\n              });\r\n    \r\n         } // End ItemMinus Mehtod \r\n\r\n\r\n         cityOnChange = (event) => {\r\n              let city = event.target.value;\r\n              this.setState({city:city})\r\n         }\r\n\r\n         paymentMethodOnChange = (event) => {\r\n          let payment = event.target.value;\r\n          this.setState({payment:payment})\r\n     }\r\n\r\n     nameOnChange = (event) => {\r\n          let name = event.target.value;\r\n          this.setState({name:name})\r\n     }\r\n\r\n     addressOnChange = (event) => {\r\n          let address = event.target.value;\r\n          this.setState({address:address})\r\n     }\r\n\r\n     confirmOnClick = () => {\r\n          let city = this.state.city;\r\n          let payment = this.state.payment;\r\n          let name = this.state.name;\r\n          let address = this.state.address;\r\n          let email = this.props.user.email;\r\n\r\n          if(city.length===0){\r\n               cogoToast.error(\"Please Select City\",{position:'top-right'});\r\n          }\r\n          else if(payment.length===0){\r\n               cogoToast.error(\"Please Select Payment\",{position:'top-right'});\r\n          }\r\n          else if(name.length===0){\r\n               cogoToast.error(\"Please Select Your Name\",{position:'top-right'});\r\n          }\r\n          else if(address.length===0){\r\n               cogoToast.error(\"Please Select Your Address\",{position:'top-right'});\r\n          }\r\n          else{\r\n\r\n               let invoice = new Date().getTime();\r\n               let MyFromData = new FormData();\r\n               MyFromData.append('city',city)\r\n               MyFromData.append('payment_method',payment)\r\n               MyFromData.append('name',name)\r\n               MyFromData.append('delivery_address',address)\r\n               MyFromData.append('email',email)\r\n               MyFromData.append('invoice_no',invoice)\r\n               MyFromData.append('delivery_charge',\"00\");\r\n\r\n     axios.post(AppURL.CartOrder,MyFromData).then(response =>{ \r\n\r\n          if(response.data===1){\r\n               cogoToast.success(\"Order Request Received\",{position:'top-right'}); \r\n               this.setState({PageRedirectStaus:true})   \r\n          }else{\r\n               cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});\r\n          }\r\n               }).catch(error=>{\r\n                    cogoToast.error(\"Your Request is not done ! Try Aagain\",{position:'top-right'});\r\n     \r\n               });\r\n          } \r\n\r\n     } // edn confim order method \r\n\r\n     \r\n     PageRedirect = () => {\r\n          if(this.state.PageRedirectStaus===true){\r\n               return (\r\n                    <Redirect to=\"/orderlist\" />\r\n               )\r\n\r\n          }\r\n     }\r\n\r\n\r\n     render() { \r\n\r\n\r\n          if(!localStorage.getItem('token')){\r\n               return <Redirect to=\"/login\" />\r\n          }\r\n\r\n          const MyList = this.state.ProductData;\r\n          let totalPriceSum=0;\r\n          const MyView = MyList.map((ProductList,i)=>{\r\n           totalPriceSum = totalPriceSum+parseInt(ProductList.total_price)    \r\n               return <div>\r\n               <Card >                \r\n     <Card.Body>\r\n     <Row>\r\n          <Col md={3} lg={3} sm={6} xs={6}>\r\n               <img className=\"cart-product-img\" src={ProductList.image} />\r\n          </Col>\r\n\r\n          <Col md={6} lg={6} sm={6} xs={6}>\r\n          <h5 className=\"product-name\">{ProductList.product_name}</h5>\r\n          <h6> Quantity = {ProductList.quantity} </h6>\r\n          <p>{ProductList.size} | {ProductList.color}</p>\r\n          <h6>Price = {ProductList.unit_price} x {ProductList.quantity} = {ProductList.total_price}$</h6>\r\n          </Col>\r\n\r\n          <Col md={3} lg={3} sm={12} xs={12}>\r\n          \r\n          <Button onClick={()=>this.removeItem(ProductList.id)} className=\"btn mt-2 mx-1 btn-lg site-btn\"><i className=\"fa fa-trash-alt\"></i> </Button>\r\n\r\n          <Button onClick={()=>this.ItemPlus(ProductList.id,ProductList.quantity,ProductList.unit_price)} className=\"btn mt-2 mx-1 btn-lg site-btn\"><i className=\"fa fa-plus\"></i> </Button>\r\n\r\n          <Button onClick={()=>this.ItemMinus(ProductList.id,ProductList.quantity,ProductList.unit_price)} className=\"btn mt-2 mx-1 btn-lg site-btn\"><i className=\"fa fa-minus\"></i> </Button>\r\n          \r\n          </Col>\r\n     </Row>              \r\n     </Card.Body>               \r\n</Card>\r\n\r\n\r\n               </div> \r\n          })\r\n\r\n\r\n\r\n          return (\r\n              <Fragment>\r\n\r\n                   <Container fluid={true}>   \r\n\r\n    <div className=\"section-title text-center mb-55\"><h2>Product Cart List</h2>   \r\n          </div>\r\n\r\n\r\n\r\n                   <Row> \r\n     <Col className=\"p-1\" lg={7} md={7} sm={12} xs={12} >\r\n         {MyView}\r\n     </Col> \r\n\r\n\r\n     <Col className=\"p-1\" lg={5} md={5} sm={12} xs={12} >\r\n     <div className=\"card p-2\">\r\n               <div className=\"card-body\">\r\n                    <div className=\"container-fluid \">\r\n                         <div className=\"row\">\r\n<div className=\"col-md-12 p-1  col-lg-12 col-sm-12 col-12\">\r\n     <h5 className=\"Product-Name text-danger\">Total Due: {totalPriceSum}  $</h5>\r\n</div>\r\n</div>\r\n<div className=\"row\">\r\n<div className=\"col-md-12 p-1 col-lg-12 col-sm-12 col-12\">\r\n     <label className=\"form-label\">Choose City</label>\r\n     <select onChange={this.cityOnChange} className=\"form-control\">\r\n     <option value=\"\">Choose</option>\r\n     <option value=\"Dhaka\">Assam</option>\r\n     <option value=\"Dhaka\">Bihar </option>\r\n     <option value=\"Dhaka\">Goa </option>\r\n     <option value=\"Dhaka\">Gujarat </option>\r\n     <option value=\"Dhaka\">Himachal Pradesh </option>\r\n     <option value=\"Dhaka\">Punjab  </option>\r\n     </select>\r\n</div>\r\n<div className=\"col-md-12 p-1 col-lg-12 col-sm-12 col-12\">\r\n     <label className=\"form-label\">Choose Payment Method</label>\r\n     <select onChange={this.paymentMethodOnChange}  className=\"form-control\">\r\n     <option value=\"\">Choose</option>\r\n     <option value=\"Cash On Delivery\">Cash On Delivery</option>\r\n     <option value=\"Cash On Delivery\">Stripe</option>\r\n     </select>\r\n</div>\r\n<div className=\"col-md-12 p-1 col-lg-12 col-sm-12 col-12\">\r\n     <label className=\"form-label\">Your Name</label>\r\n     <input onChange={this.nameOnChange}  className=\"form-control\" type=\"text\" placeholder=\"\"/>\r\n</div>\r\n\r\n<div className=\"col-md-12 p-1 col-lg-12 col-sm-12 col-12\">\r\n     <label className=\"form-label\">Delivery Address</label>\r\n     <textarea onChange={this.addressOnChange}   rows={2}  className=\"form-control\" type=\"text\" placeholder=\"\"/>\r\n</div>\r\n<div className=\"col-md-12 p-1 col-lg-12 col-sm-12 col-12\">\r\n     <button onClick={this.confirmOnClick}  className=\"btn  site-btn\"> {this.state.confirmBtn} </button>\r\n</div>\r\n</div>\r\n                    </div>\r\n               </div>\r\n               </div>\r\n     </Col> \r\n\r\n\r\n\r\n\r\n\r\n\r\n                   </Row>\r\n\r\n               </Container>\r\n\r\n            {this.PageRefresh()}\r\n            \r\n            {this.PageRedirect()}\r\n\r\n              </Fragment>\r\n          )\r\n     }\r\n}\r\n\r\nexport default Cart\r\n"]},"metadata":{},"sourceType":"module"}