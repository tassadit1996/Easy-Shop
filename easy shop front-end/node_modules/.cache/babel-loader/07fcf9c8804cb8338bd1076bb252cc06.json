{"ast":null,"code":"import _classCallCheck from\"C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{Container,Row,Col,Form,Button}from'react-bootstrap';import Login from'../../assets/images/login.png';import{Link,Redirect}from'react-router-dom';import AppURL from'../../api/AppURL';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserLogin=/*#__PURE__*/function(_Component){_inherits(UserLogin,_Component);var _super=_createSuper(UserLogin);function UserLogin(){var _this;_classCallCheck(this,UserLogin);_this=_super.call(this);_this.formSubmit=function(e){e.preventDefault();var data={email:_this.state.email,password:_this.state.password};axios.post(AppURL.UserLogin,data).then(function(response){localStorage.setItem('token',response.data.token);_this.setState({loggedIn:true});_this.props.setUser(response.data.user);}).catch(function(error){});};_this.state={email:'',password:'',message:'',loggedIn:false};return _this;}// Login Form Submit Method \n_createClass(UserLogin,[{key:\"render\",value:function render(){var _this2=this;/// After Login Redirect to Profile Page \nif(this.state.loggedIn){return/*#__PURE__*/_jsx(Redirect,{to:'/profile'});}if(localStorage.getItem('token')){return/*#__PURE__*/_jsx(Redirect,{to:\"/profile\"});}return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{className:\"p-2\",children:/*#__PURE__*/_jsx(Col,{className:\"shadow-sm bg-white mt-2\",md:12,lg:12,sm:12,xs:12,children:/*#__PURE__*/_jsxs(Row,{className:\"text-center\",children:[/*#__PURE__*/_jsx(Col,{className:\"d-flex justify-content-center\",md:6,lg:6,sm:12,xs:12,children:/*#__PURE__*/_jsxs(Form,{className:\"onboardForm\",onSubmit:this.formSubmit,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"section-title-login\",children:\" USER SING IN \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control m-2\",type:\"email\",placeholder:\"Enter Your Email\",onChange:function onChange(e){_this2.setState({email:e.target.value});}}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control m-2\",type:\"password\",placeholder:\"Enter Your Password\",onChange:function onChange(e){_this2.setState({password:e.target.value});}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"btn btn-block m-2 site-btn-login\",children:\" Login \"}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\" Forget My Password? \"}),/*#__PURE__*/_jsxs(Link,{to:\"/forget\",children:[/*#__PURE__*/_jsx(\"b\",{children:\" Froget Password \"}),\" \"]}),\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\" Don't Have An Account ? \"}),/*#__PURE__*/_jsxs(Link,{to:\"/register\",children:[/*#__PURE__*/_jsx(\"b\",{children:\" Register \"}),\" \"]}),\" \"]})]})}),/*#__PURE__*/_jsx(Col,{className:\"p-0 Desktop m-0\",md:6,lg:6,sm:6,xs:6,children:/*#__PURE__*/_jsx(\"img\",{className:\"onboardBanner\",src:Login})})]})})})})});}}]);return UserLogin;}(Component);export default UserLogin;","map":{"version":3,"sources":["C:/Users/adoud/Desktop/Nouveau dossier/ecommerce/react-ecommerce/src/components/common/UserLogin.jsx"],"names":["React","Component","Fragment","Container","Row","Col","Form","Button","Login","Link","Redirect","AppURL","axios","UserLogin","formSubmit","e","preventDefault","data","email","state","password","post","then","response","localStorage","setItem","token","setState","loggedIn","props","setUser","user","catch","error","message","getItem","target","value"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\r\nimport { Container,Row,Col, Form,Button } from 'react-bootstrap'\r\nimport Login from '../../assets/images/login.png'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport AppURL from '../../api/AppURL';\r\nimport axios from 'axios'\r\n\r\nclass UserLogin extends Component {\r\n\r\n     constructor(){\r\n          super();\r\n          this.state={\r\n               email:'',\r\n               password:'',\r\n               message:'',\r\n               loggedIn:false\r\n          }\r\n     } \r\n\r\n     // Login Form Submit Method \r\n     formSubmit = (e) => {\r\n          e.preventDefault();\r\n          const data={\r\n               email:this.state.email,\r\n               password:this.state.password\r\n          }\r\n\r\n          axios.post(AppURL.UserLogin,data).then(response =>{ \r\n            \r\n               localStorage.setItem('token',response.data.token);\r\n               this.setState({loggedIn:true})\r\n               this.props.setUser(response.data.user);\r\n               \r\n          }).catch(error=>{\r\n\r\n          }); \r\n\r\n     }\r\n\r\n\r\n\r\n     render() {\r\n\r\n           /// After Login Redirect to Profile Page \r\n           if(this.state.loggedIn){\r\n                return <Redirect to={'/profile'} />\r\n           }\r\n\r\n           if(localStorage.getItem('token')){\r\n               return <Redirect to=\"/profile\" />\r\n          }\r\n\r\n\r\n          return (\r\n     <Fragment>\r\n          <Container>\r\n               <Row className=\"p-2\">\r\n       <Col className=\"shadow-sm bg-white mt-2\" md={12} lg={12} sm={12} xs={12}>\r\n\r\n               <Row className=\"text-center\">\r\n        <Col className=\"d-flex justify-content-center\" md={6} lg={6} sm={12} xs={12}>\r\n          <Form className=\"onboardForm\" onSubmit={this.formSubmit} >\r\n               <h4 className=\"section-title-login\"> USER SING IN </h4>\r\n               \r\n               <input className=\"form-control m-2\" type=\"email\" placeholder=\"Enter Your Email\" onChange={(e)=>{this.setState({email:e.target.value})}} />\r\n\r\n               <input className=\"form-control m-2\" type=\"password\" placeholder=\"Enter Your Password\"  onChange={(e)=>{this.setState({password:e.target.value})}} />\r\n\r\n\r\n               <Button type=\"submit\" className=\"btn btn-block m-2 site-btn-login\"> Login </Button>\r\n\r\n               <br></br> <br></br>\r\n     <hr />\r\n     <p> <b> Forget My Password? </b><Link to=\"/forget\"><b> Froget Password </b> </Link> </p>\r\n\r\n     <p> <b> Don't Have An Account ? </b><Link to=\"/register\"><b> Register </b> </Link> </p>\r\n               \r\n          </Form>\r\n\r\n\r\n                    </Col>\r\n\r\n       <Col className=\"p-0 Desktop m-0\" md={6} lg={6} sm={6} xs={6}>\r\n                         <img className=\"onboardBanner\" src={Login} />\r\n                    </Col>\r\n               </Row>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    </Col>\r\n               </Row>\r\n          </Container>\r\n     </Fragment>\r\n          )\r\n     }\r\n}\r\n\r\nexport default UserLogin\r\n"]},"metadata":{},"sourceType":"module"}